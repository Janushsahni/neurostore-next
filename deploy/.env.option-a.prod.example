# Copy to deploy/.env.option-a.prod and source it before deploy.

# Control-plane
PORT=8080
MACAROON_SECRET=replace-with-64-char-random-secret
INTERNAL_API_TOKEN=replace-with-32-char-random-internal-token
STATE_BACKEND=postgres
STATE_REDIS_KEY=neurostore:control-plane:state
STATE_PG_TABLE=control_plane_state
STATE_MIRROR_FILE=true
STATE_BACKEND_FALLBACK_TO_FILE=false
DATABASE_URL=postgres://neurostore:strong-password@postgres:5432/neurostore
REDIS_URL=redis://redis:6379
NATS_URL=nats://nats:4222
KAFKA_BROKERS=redpanda:9092

# S3 gateway
REQUIRE_AUTH=true
PRESIGN_SECRET=replace-with-64-char-random-presign-secret
CONTROL_PLANE_URL=http://control-plane:8080
CONTROL_PLANE_HOST=api.your-domain.com
S3_HOST=s3.your-domain.com
TLS_SECRET_NAME=neurostore-edge-tls
SIGV4_PROVIDER=control-plane
SIGV4_CACHE_TTL_MS=60000
SIGV4_MAX_SKEW_SECONDS=900
# Prefer dynamic keys from control-plane for production, keep static empty.
SIGV4_CREDENTIALS_JSON=[]

# Optional profile controls
MAX_BODY_BYTES=268435456
MAX_MULTIPART_PARTS=10000
